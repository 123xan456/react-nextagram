(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,a){e.exports=a(56)},30:function(e,t,a){},32:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(22),c=a.n(o),l=(a(30),a(3)),s=a(4),i=a(6),u=a(5),m=a(7),d=(a(32),a(9)),h=a.n(d),p=a(12),g=a.n(p),f=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={userimages:[]},a.componentDidMount=function(){h.a.get("https://insta-oct18.nextacademy.com/api/v1/images?userId=".concat(a.props.user_id)).then(function(e){var t=e.data;a.setState({userimages:t})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.state.userimages.map(function(e,t){return r.a.createElement(g.a,{key:t,src:e,width:"50px",height:"50px"})}))}}]),t}(r.a.Component),v=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={success:!0,loading:!0,users:[],userImages:[]},a.componentDidMount=function(){h.a.get("https://insta-oct18.nextacademy.com/api/v1/users").then(function(e){if(!0===a.state.success){var t=e.data;a.setState({loading:!1,users:t})}}).catch(function(e){console.log(e)})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.state.loading?r.a.createElement("div",null,r.a.createElement("img",{src:"https://media.giphy.com/media/3oEjI6SIIHBdRxXI40/giphy.gif",alt:"loading the loading screen"})):"",r.a.createElement("h1",null,"Home Page"),this.state.users.map(function(e,t){return r.a.createElement("div",{className:"usernames",key:t},r.a.createElement("h2",null,"Username:",e.username),r.a.createElement("h3",null,"Profile Picture:"),r.a.createElement("figure",null,r.a.createElement("img",{src:e.profileImage,alt:"user dp"})),r.a.createElement("h3",null,"Posts:"),r.a.createElement(f,{user_id:e.id}),r.a.createElement("hr",null))}))}}]),t}(r.a.Component),E=a(57),b=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={success:!0,loading:!0,users:[]},a.componentDidMount=function(){h.a.get("https://insta-oct18.nextacademy.com/api/v1/users").then(function(e){if(!0===a.state.success){var t=e.data;a.setState({loading:!1,users:t})}}).catch(function(e){console.log(e)})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("nav",null,this.state.users.map(function(e,t){return r.a.createElement("button",{key:t},r.a.createElement(E.a,{to:"/user/".concat(e.id)},e.username,"'s Profile"))})))}}]),t}(r.a.Component),y=a(59),w=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",loggedin:!1,loading:!1},a.logOut=function(){sessionStorage.removeItem("authtoken"),a.setState({loggedin:!1}),alert("Succesfully logged out!"),window.location.href="/"},a.getJwt=function(e){e.preventDefault(),h.a.post("https://insta-oct18.nextacademy.com/api/v1/login",{email:a.state.email,password:a.state.password}).then(function(e){var t=e.data,a=t.message,n=t.auth_token;alert(a),window.location="/",sessionStorage.setItem("authtoken",n)}).catch(function(e){alert("Failed sign in, please try again")}),a.setState({loggedin:!0,loading:!0})},a.handleEmail=function(e){var t=e.target.value;a.setState({email:t}),sessionStorage.setItem("email",t)},a.handlePassword=function(e){var t=e.target.value;a.setState({password:t}),sessionStorage.setItem("password",t)},a.handleSubmit=function(e){e.preventDefault()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=sessionStorage.auth_token;return r.a.createElement("div",null,""!==e?r.a.createElement("button",{onClick:this.logOut},"Logout"):"",r.a.createElement("form",{name:"form",id:"loginmodal",method:"post",onSubmit:this.handleSubmit&&this.getJwt},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Email address"),r.a.createElement("input",{name:"email",type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email",required:!0,onChange:this.handleEmail})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),r.a.createElement("input",{name:"password",type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password",required:!0,onChange:this.handlePassword})),r.a.createElement("div",{className:"form-check"}),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},!0===this.state.loading?"Loading":"Submit")))}}]),t}(r.a.Component),j=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={userimages:[]},a.componentDidMount=function(){var e=a.props.match.params.id;h.a.get("https://insta-oct18.nextacademy.com/api/v1/images?userId=".concat(e)).then(function(e){console.log(e);var t=e.data;a.setState({userimages:t})}).catch(function(e){console.log(e)})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"User profile page"),this.state.userimages.map(function(e,t){return r.a.createElement(g.a,{className:"posts",key:t,src:e,width:"50px",height:"50px"})}))}}]),t}(r.a.Component),O=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={userimages:[],jwt:sessionStorage.authtoken},a.componentDidMount=function(){h()({url:"https://insta-oct18.nextacademy.com/api/v1/images/me",method:"get",headers:{Authorization:"Bearer ".concat(a.state.jwt)}}).then(function(e){var t=e.data;a.setState({userimages:t})}).catch(function(e){console.log(e),alert("Unable to load pictures")})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Hello and Welcome to your Profile"),this.state.userimages.map(function(e,t){return r.a.createElement(g.a,{key:t,src:e,className:"imgimg"})}))}}]),t}(r.a.Component),k=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={profilelinks:[],loggedin:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("nav",null,""!==sessionStorage.authtoken?r.a.createElement(E.a,{className:"main-link",id:"link4",to:"/myprofile"},"My Profile Page"):"",r.a.createElement(E.a,{className:"main-link",id:"link1",to:"/navbar"},"See other users"),r.a.createElement(y.a,{path:"/navbar",component:b}),r.a.createElement(E.a,{className:"main-link",id:"link2",to:"/login"},"Login or Logout Here"),r.a.createElement(y.a,{path:"/login",component:w}),r.a.createElement(E.a,{className:"main-link",id:"link3",to:"/"},"Home"),r.a.createElement(y.a,{exact:!0,path:"/",component:v}),r.a.createElement(y.a,{path:"/myprofile",component:O}),r.a.createElement(y.a,{path:"/user/:id",component:j})),r.a.createElement("br",null),r.a.createElement("br",null))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var S=a(58);c.a.render(r.a.createElement(S.a,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[24,2,1]]]);
//# sourceMappingURL=main.56df041e.chunk.js.map